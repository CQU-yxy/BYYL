# BYYL
# 编译原理实验

在本次实验中，我主要实现了一个语法分析器，代码核心部分在syntax.py文件当中。

语法分析的核心问题是构建预测分析表，分析表是预测分析控制程序工作的依据，不同文法的预测分析程序之间的不同主要是分析表的内容不同，但分析表的生成规则是一致的，需要根据文法依次产生first集和follow集，这两部分内容分别在函数get_first() 和函数 get_follow() 中实现，实现的主要方法是多次递归按first和follow集合构建规则遍历所有的文法产生式，把符合规则的符号加入到相应的列表中去。在得到first和follow集合之后，我们使用get_table() 函数来构建相应的预测分析表。


在得到相应的预测分析表之后，我们使用非递归预测分析方法来对输入句子进行语法分析，这部分主要在函数analyze() 中实现。这是一种自顶向下的分析方法，使用一张分析表和分析栈进行分析，每次依据分析表对栈顶的元素和输入队列的元素进行不断匹配，直到语句全部分析完。


在对输入语句分析的前提是对语句进行词法分析，主要依托实验一实现的词法分析程序lexical.cpp 文件，由于这次实验我使用python语言来完成，所以需要先将词法分析的结果输出到文本lexical_result.txt 中，再用python对其进行读取。文本中保存着每个词的类型编号，在函数read_lexical() 中将其读取、翻译为相应类型即可。


在draw_ast() 函数中我们实现了语法分析树的绘制，主要依托graphviz软件，通过对所有使用到的产生式依次读取，保存节点node和绘制相应边即可。


在错误处理部分，我们按照书上的讲解采取一种“应急式”错误处理方法，即原分析表的基础上添加同步信息synch构成，新的分析表在get_table_synch() 函数中实现，这种错误处理方法主要是考虑了三种情况，分别做出不同的响应，让遇到错误的程序继续执行下去。


值得说明一下的是，我的实验一是使用c++语言完成的，在完成实验二的时候我起初也是使用c++语言，但是c++语言的一些包括string , char的转换很麻烦，数组、vector和map等容器操作起来也较麻烦，于是我选择用python语言实现我的实验二。python语言的列表可以很好地实现我相应符号的保存，python相应的文件读取、列表索引、更方便的函数等给我完成实验带来很多便利。还有和graphviz相应的api也简化了绘图的过程。具体的一些数据结构的使用会在后面详细介绍。
